(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var M={exports:{}};(function(e){(function(){var t={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0},n;t.encodeHTMLSource=function(s){var r={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=s?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(v){return v?v.toString().replace(c,function(l){return r[l]||l}):""}},n=function(){return this||(0,eval)("this")}(),e.exports?e.exports=t:n.doT=t;var i={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},o=/$^/;function a(s,r,c){return(typeof r=="string"?r:r.toString()).replace(s.define||o,function(v,l,m,h){return l.indexOf("def.")===0&&(l=l.substring(4)),l in c||(m===":"?(s.defineParams&&h.replace(s.defineParams,function(p,f,u){c[l]={arg:f,text:u}}),l in c||(c[l]=h)):new Function("def","def['"+l+"']="+h)(c)),""}).replace(s.use||o,function(v,l){s.useParams&&(l=l.replace(s.useParams,function(h,p,f,u){if(c[f]&&c[f].arg&&u){var g=(f+":"+u).replace(/'|\\/g,"_");return c.__exp=c.__exp||{},c.__exp[g]=c[f].text.replace(new RegExp("(^|[^\\w$])"+c[f].arg+"([^\\w$])","g"),"$1"+u+"$2"),p+"def.__exp['"+g+"']"}}));var m=new Function("def","return "+l)(c);return m&&a(s,m,c)})}function d(s){return s.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}t.template=function(s,r,c){r=r||t.templateSettings;var v=r.append?i.append:i.split,l,m=0,h,p=r.use||r.define?a(r,s,c||{}):s;p=("var out='"+(r.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(r.interpolate||o,function(f,u){return v.start+d(u)+v.end}).replace(r.encode||o,function(f,u){return l=!0,v.startencode+d(u)+v.end}).replace(r.conditional||o,function(f,u,g){return u?g?"';}else if("+d(g)+"){out+='":"';}else{out+='":g?"';if("+d(g)+"){out+='":"';}out+='"}).replace(r.iterate||o,function(f,u,g,B){return u?(m+=1,h=B||"i"+m,u=d(u),"';var arr"+m+"="+u+";if(arr"+m+"){var "+g+","+h+"=-1,l"+m+"=arr"+m+".length-1;while("+h+"<l"+m+"){"+g+"=arr"+m+"["+h+"+=1];out+='"):"';} } out+='"}).replace(r.evaluate||o,function(f,u){return"';"+d(u)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),l&&(!r.selfcontained&&n&&!n._encodeHTML&&(n._encodeHTML=t.encodeHTMLSource(r.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+t.encodeHTMLSource.toString()+"("+(r.doNotSkipEncoded||"")+"));"+p);try{return new Function(r.varname,p)}catch(f){throw typeof console<"u"&&console.log("Could not create a template function: "+p),f}},t.compile=function(s,r){return t.template(s,null,r)}})()})(M);const y=M.exports,O=new Intl.DateTimeFormat("no-NO",{dateStyle:"long",timeStyle:"medium"}).format,_=new Intl.DateTimeFormat("no-NO",{dateStyle:"short"}).format,S=e=>t=>t==null?null:e(t),E=e=>{try{if(e==null)throw new TypeError("Invalid Date");return new Date(e)}catch(t){return console.error(t),null}},U=(...e)=>t=>e.reduce((n,i)=>i(n),t),q=e=>t=>t.map(e),C=e=>t=>Array.prototype.forEach.call(t,e),R=(e,t)=>new Promise((n,i)=>{const o=t;e.classList.add("animate-animated",o);const a=d=>{d.stopPropagation(),e.classList.remove("animate-animated",o),n()};e.addEventListener("animationend",a,{once:!0})}),j=S(_),K=S(O),V=document.getElementById("rowTmpl").textContent,W=y.template(V),I=document.getElementById("rows"),z="https://nvdbapiles-v3.atlas.vegvesen.no/vegobjekter/103?kartutsnitt=270153.519,7040213.023,270332.114,7040444.864&kommune=5001&segmentering=true&inkluder=metadata",G=()=>{fetch(z,{headers:{Accept:"application/vnd.vegvesen.nvdb-v3-rev1+json"}}).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(U(J,Q(X),q(Y),Z)).catch(x)};function J(e){var t;return(t=e==null?void 0:e.objekter)==null?void 0:t.map(n=>{var i,o,a,d,s;return{status:"Registrert",id:n.id,href:n==null?void 0:n.href,name:(o=(i=n==null?void 0:n.metadata)==null?void 0:i.type)==null?void 0:o.navn,version:(a=n==null?void 0:n.metadata)==null?void 0:a.versjon,startDate:E((d=n==null?void 0:n.metadata)==null?void 0:d.startdato),lastModified:E((s=n==null?void 0:n.metadata)==null?void 0:s.sist_modifisert)}})}function Q(e){return t=>t.sort(e)}function X(e,t){return e.startDate<t.startDate?-1:e.startDate>t.startDate?1:0}function Y(e){return{...e,startDate:j(e.startDate),lastModified:K(e.lastModified)}}function Z(e){e?I.innerHTML=W(e):x(new Error("Fant ingen fartsdempere"))}function x(e){const t=document.getElementById("errorTmpl").textContent;I.innerHTML=y.template(t)(e)}const D={main:G,onUnmounted(){},mountElement:document.getElementById("page-overview")},ee=S(_),L=document.getElementById("registration"),N=L.querySelector('input[type="submit"]'),te=L.querySelector('[name="name"]'),ne=L.querySelector('[name="date"]'),w=document.querySelector(".notification"),oe=e=>{e.ariaDisabled="true",e.disabled=!0},re=e=>{e.ariaDisabled="false",e.disabled=!1},ae=C(e=>{e.value=e.defaultValue}),se=e=>{w.querySelector(".notification__message").textContent=String(e),w.classList.add("animate-backInDown"),w.classList.remove("hidden")},ie=async()=>{w.classList.contains("hidden")||(await R(w,"animate-backOutDown"),w.classList.add("hidden"),w.querySelector(".notification__message").textContent="")},P=()=>{ae(L.elements),ie(),re(N)},k=e=>{e.preventDefault(),oe(N);const t=E(ne.value);if(t){const n=S(i=>i.replaceAll(".","/"))(ee(t));console.log(n),se(`Du registrerte ${te.value} den ${n}`)}setTimeout(P,3e3)},ce=()=>{L.addEventListener("submit",k)},le=()=>{L.removeEventListener("submit",k),P()},ue={main:ce,onUnmounted:le,mountElement:document.getElementById("page-register")},de={main(){console.error("404: page not found")},onUnmounted(){},mountElement:document.getElementById("page-not-found")},$=e=>t=>{t.forEach(n=>{n.innerHTML=e()})},me=()=>{$(y.template(document.getElementById("headerTmpl").textContent).bind(y,"/capgemini/vanilla/"))(document.querySelectorAll(".header")),$(y.template(document.getElementById("footerTmpl").textContent))(document.querySelectorAll(".footer"))},T="animate-backOutUp",F="animate-backInDown",fe=e=>e.classList.contains(T),pe=e=>{e.addEventListener("animationend",()=>{fe(e)?(e.classList.remove("animate-animated",T),e.classList.add("hidden-force")):e.classList.remove("animate-animated",F)})},b={"":D,"#overview":D,"#register":ue,"#404":de},H=e=>b[e]||b["#404"],A=e=>{const t=new URL(e.newURL),n=e.oldURL&&H(new URL(e.oldURL).hash),i=H(t.hash);n!==i&&(i.main(),n&&(n.mountElement.classList.add("animate-animated",T),n.onUnmounted()),i.mountElement.classList.add("animate-animated",F),i.mountElement.classList.remove("hidden-force"))};window.addEventListener("hashchange",A,!1);me();document.querySelectorAll(".page").forEach(pe);A({newURL:window.location});
