var U=Object.defineProperty,k=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var p=(e,t,n)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&p(e,n,t[n]);if(g)for(var n of g(t))C.call(t,n)&&p(e,n,t[n]);return e},h=(e,t)=>k(e,q(t));import{d}from"./vendor.a6924a02.js";const F=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};F();var P="/capgemini/vanilla/favicon.svg";const R=new Intl.DateTimeFormat("no-NO",{dateStyle:"long",timeStyle:"medium"}).format,D=new Intl.DateTimeFormat("no-NO",{dateStyle:"short"}).format,l=e=>t=>t==null?null:e(t),m=e=>{try{if(e==null)throw new TypeError("Invalid Date");return new Date(e)}catch(t){return console.error(t),null}},H=(...e)=>t=>e.reduce((n,r)=>r(n),t),M=e=>t=>t.map(e),j=e=>t=>Array.prototype.forEach.call(t,e),_=(e,t)=>new Promise((n,r)=>{const o=t;e.classList.add("animate-animated",o);const a=s=>{s.stopPropagation(),e.classList.remove("animate-animated",o),n()};e.addEventListener("animationend",a,{once:!0})}),$=l(D),x=l(R),K=document.getElementById("rowTmpl").textContent,V=d.template(K),b=document.getElementById("rows"),W="https://nvdbapiles-v3.atlas.vegvesen.no/vegobjekter/103?kartutsnitt=270153.519,7040213.023,270332.114,7040444.864&kommune=5001&segmentering=true&inkluder=metadata",z=()=>{fetch(W,{headers:{Accept:"application/vnd.vegvesen.nvdb-v3-rev1+json"}}).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(H(G,J(Q),M(X),Y)).catch(I)};function G(e){var t;return(t=e==null?void 0:e.objekter)==null?void 0:t.map(n=>{var r,o,a,s,f;return{status:"Registrert",id:n.id,href:n==null?void 0:n.href,name:(o=(r=n==null?void 0:n.metadata)==null?void 0:r.type)==null?void 0:o.navn,version:(a=n==null?void 0:n.metadata)==null?void 0:a.versjon,startDate:m((s=n==null?void 0:n.metadata)==null?void 0:s.startdato),lastModified:m((f=n==null?void 0:n.metadata)==null?void 0:f.sist_modifisert)}})}function J(e){return t=>t.sort(e)}function Q(e,t){return e.startDate<t.startDate?-1:e.startDate>t.startDate?1:0}function X(e){return h(v({},e),{startDate:$(e.startDate),lastModified:x(e.lastModified)})}function Y(e){e?b.innerHTML=V(e):I(new Error("Fant ingen fartsdempere"))}function I(e){const t=document.getElementById("errorTmpl").textContent;b.innerHTML=d.template(t)(e)}var y={main:z,onUnmounted(){},mountElement:document.getElementById("page-overview")};const Z=l(D),c=document.getElementById("registration"),S=c.querySelector('input[type="submit"]'),ee=c.querySelector('[name="name"]'),te=c.querySelector('[name="date"]'),i=document.querySelector(".notification"),ne=e=>{e.ariaDisabled="true",e.disabled=!0},oe=e=>{e.ariaDisabled="false",e.disabled=!1},ae=j(e=>{e.value=e.defaultValue}),re=e=>{i.querySelector(".notification__message").textContent=String(e),i.classList.add("animate-backInDown"),i.classList.remove("hidden")},se=async()=>{i.classList.contains("hidden")||(await _(i,"animate-backOutDown"),i.classList.add("hidden"),i.querySelector(".notification__message").textContent="")},T=()=>{ae(c.elements),se(),oe(S)},A=e=>{e.preventDefault(),ne(S);const t=m(te.value);if(t){const n=l(r=>r.replaceAll(".","/"))(Z(t));console.log(n),re(`Du registrerte ${ee.value} den ${n}`)}setTimeout(T,3e3)},ie=()=>{c.addEventListener("submit",A)},ce=()=>{c.removeEventListener("submit",A),T()};var de={main:ie,onUnmounted:ce,mountElement:document.getElementById("page-register")};const le={main(){console.error("404: page not found")},onUnmounted(){},mountElement:document.getElementById("page-not-found")},E=e=>t=>{t.forEach(n=>{n.innerHTML=e()})},me=()=>{E(d.template(document.getElementById("headerTmpl").textContent).bind(d,P))(document.querySelectorAll(".header")),E(d.template(document.getElementById("footerTmpl").textContent))(document.querySelectorAll(".footer"))},u="animate-backOutUp",B="animate-backInDown",ue=e=>e.classList.contains(u),fe=e=>{e.addEventListener("animationend",()=>{ue(e)?(e.classList.remove("animate-animated",u),e.classList.add("hidden-force","pointer-events-none")):e.classList.remove("animate-animated",B,"pointer-events-none")})},w={"":y,"#overview":y,"#register":de,"#404":le},L=e=>w[e]||w["#404"],N=e=>{const t=new URL(e.newURL),n=e.oldURL&&L(new URL(e.oldURL).hash),r=L(t.hash);n!==r&&(r.main(),n&&(n.mountElement.classList.add("animate-animated",u),n.onUnmounted()),r.mountElement.classList.add("animate-animated",B),r.mountElement.classList.remove("hidden-force"))};window.addEventListener("hashchange",N,!1);me();document.querySelectorAll(".page").forEach(fe);N({newURL:window.location});
